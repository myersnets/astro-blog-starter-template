<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Favicons -->
  <link rel="icon" href="/assets/favicons/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
  <link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Mountain Muscle | Oakhurst CA Gym</title>
  <meta name="description" content="Mountain Muscle is an old-school gym in Oakhurst, CA. Disciplined minds, disciplined bodies." />

  <!-- Social Preview / SEO -->
  <link rel="canonical" href="https://mountainmuscle.fitness/">
  <meta name="theme-color" content="#323232">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Mountain Muscle | Oakhurst CA Gym">
  <meta property="og:description" content="Mountain Muscle is an old-school gym in Oakhurst, CA. Disciplined minds, disciplined bodies.">
  <meta property="og:url" content="https://mountainmuscle.fitness/">
  <meta property="og:image" content="https://mountainmuscle.fitness/assets/og/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Mountain Muscle | Oakhurst CA Gym">
  <meta name="twitter:description" content="Mountain Muscle is an old-school gym in Oakhurst, CA. Disciplined minds, disciplined bodies.">
  <meta name="twitter:image" content="https://mountainmuscle.fitness/assets/og/og-image.jpg">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- Global Styles -->
  <link rel="stylesheet" href="/styles/global.css">
</head>

<body>

  <!-- Splash overlay (plays once, then pixel-perfect flies into the top-left logo + dissolves) -->
  <div id="logo-splash" class="logo-splash" aria-hidden="true">
    <video
      id="logo-splash-video"
      class="logo-splash__video"
      autoplay
      muted
      playsinline
      preload="auto"
    >
      <source src="/assets/logo-splash.webm" type="video/webm" />
      <source src="/assets/logo-splash.mp4" type="video/mp4" />
    </video>
  </div>

  <!-- DROPDOWN MENU -->
  <div class="menu-wrap">
    <button
      class="menu-button"
      id="menuButton"
      aria-label="Open menu"
      aria-expanded="false"
    >
      ☰
    </button>

    <div class="menu-dropdown" id="menuDropdown">
      <a href="#contact">Contact</a>
      <a href="#team">Meet the Team</a>
      <a href="#classes">Class Schedule</a>
      <a href="#visit">Come on in</a>
    </div>
  </div>

  <!-- HEADER / HERO -->
  <header class="hero">
    <nav class="nav">
      <img
        src="/assets/mountain-muscle-logo.png"
        alt="Mountain Muscle gym logo"
        class="logo"
        width="220"
        height="80"
        decoding="async"
        fetchpriority="high"
      />
    </nav>

    <div class="overlay"></div>

    <div class="hero-content">
      <h1>Mountain Muscle</h1>
      <p class="tagline">Disciplined minds, disciplined bodies.</p>
      <a href="#visit" class="cta">Come on in</a>
    </div>
  </header>

  <!-- ABOUT -->
  <section class="section">
    <div class="container">
      <h2>Old School. No Excuses.</h2>
      <p>
        Mountain Muscle is a no-frills, old-iron gym built for people who show up
        and put in the work. No corporate fluff. No gimmicks.
        Just disciplined training in the heart of Oakhurst.
      </p>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="section dark">
    <div class="container features">
      <div class="feature">
        <h3>Serious Training</h3>
        <p>Free weights, machines, and space to train the right way.</p>
      </div>
      <div class="feature">
        <h3>Community Driven</h3>
        <p>A gym where effort is respected and discipline is earned.</p>
      </div>
      <div class="feature">
        <h3>Growing Toward 24/7 Access</h3>
        <p>Building toward secure, round-the-clock availability.</p>
      </div>
    </div>
  </section>

  <!-- LOCATION -->
  <section class="section" id="visit">
    <div class="container">
      <h2>Are you ready? Let's go!</h2>
      <p>
        40118 Enterprise Dr.<br>
        Oakhurst, CA 93644
      </p>

      <div class="map">
        <iframe
          src="https://www.google.com/maps?q=Mountain+Muscle+Oakhurst+CA&output=embed"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section dark" id="contact">
    <div class="container">
      <h2>Contact</h2>
      <p>
        Phone: <a href="tel:15596417255">(559) 641-7255</a>
      </p>

      <div class="socials">
        <a href="https://www.facebook.com/MountainMuscleOakhurst" target="_blank" rel="noopener">Facebook</a>
        <a href="https://www.instagram.com/mountainmuscleoakhurst" target="_blank" rel="noopener">Instagram</a>
      </div>
    </div>
  </section>

  <!-- TEAM -->
  <section id="team" class="section">
    <div class="container">
      <h2>Meet the Team</h2>

      <!-- NOTE: These are now buttons (clickable cards) to open modals -->
      <div class="team-grid">

        <button
          class="team-member team-member--clickable"
          type="button"
          data-modal="instructor-kathy"
          aria-haspopup="dialog"
          aria-controls="instructor-kathy"
        >
          <img src="/assets/instructor1.jpg" alt="Kathy Jackson" loading="lazy">
          <h3>Kathy Jackson</h3>
          <p>Silver Sneakers instructor specializing in functional training and mobility.</p>
        </button>

        <button
          class="team-member team-member--clickable"
          type="button"
          data-modal="instructor-karina"
          aria-haspopup="dialog"
          aria-controls="instructor-karina"
        >
          <img src="/assets/instructor5.jpg" alt="Karina Brown" loading="lazy">
          <h3>Karina Brown</h3>
          <p>General wellness and strength training.</p>
        </button>

        <button
          class="team-member team-member--clickable"
          type="button"
          data-modal="instructor-gerri"
          aria-haspopup="dialog"
          aria-controls="instructor-gerri"
        >
          <img src="/assets/instructor2.jpg" alt="Gerri Russell" loading="lazy">
          <h3>Gerri Russell</h3>
          <p>REFIT group fitness instructor with a focus on conditioning and endurance.</p>
        </button>

        <button
          class="team-member team-member--clickable"
          type="button"
          data-modal="instructor-lisa"
          aria-haspopup="dialog"
          aria-controls="instructor-lisa"
        >
          <img src="/assets/instructor3.jpg" alt="Lisa Wobler" loading="lazy">
          <h3>Lisa Wobler</h3>
          <p>General flow yoga instructor.</p>
        </button>

        <button
          class="team-member team-member--clickable"
          type="button"
          data-modal="instructor-meloni"
          aria-haspopup="dialog"
          aria-controls="instructor-meloni"
        >
          <img src="/assets/instructor4.jpg" alt="Meloni Mullins" loading="lazy">
          <h3>Meloni Mullins</h3>
          <p>Silver Sneakers certified instructor — strength circuit, mobility, and conditioning.</p>
        </button>

      </div>
    </div>
  </section>

  <!-- INSTRUCTOR MODALS (single-page “popups”) -->
  <!-- Replace the *-full.jpg images with your real full-face photos when you have them -->
  <div class="modal" id="instructor-kathy" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="instructor-kathy-title">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__panel" role="document">
      <button class="modal__close" type="button" aria-label="Close" data-close>×</button>

      <div class="modal__content">
        <div class="modal__media">
          <img src="/assets/instructor1-full.jpg" alt="Kathy Jackson portrait" loading="lazy">
        </div>
        <div class="modal__text">
          <h3 id="instructor-kathy-title">Kathy Jackson</h3>
          <p class="muted">Silver Sneakers • Functional Strength • Mobility</p>

          <p>
            Kathy runs classes that keep you strong for real life — balance, stability, joint-friendly strength,
            and mobility that actually sticks. Clear cues, supportive coaching, and a steady pace that builds confidence.
          </p>

          <ul class="bio-bullets">
            <li><strong>Best for:</strong> beginners, active adults, strength + mobility</li>
            <li><strong>Expect:</strong> functional movements, safe progressions, good energy</li>
            <li><strong>Bring:</strong> water — we’ll handle the rest</li>
          </ul>

          <div class="tags">
            <span>Silver Sneakers</span><span>Mobility</span><span>Functional</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="instructor-karina" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="instructor-karina-title">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__panel" role="document">
      <button class="modal__close" type="button" aria-label="Close" data-close>×</button>

      <div class="modal__content">
        <div class="modal__media">
          <img src="/assets/instructor5-full.jpg" alt="Karina Brown portrait" loading="lazy">
        </div>
        <div class="modal__text">
          <h3 id="instructor-karina-title">Karina Brown</h3>
          <p class="muted">Wellness • Strength • Sustainable Fitness</p>

          <p>
            Karina’s focus is simple: feel better, move better, get stronger — and keep it doable.
            Great if you want structure, encouragement, and a plan that meets you where you’re at.
          </p>

          <ul class="bio-bullets">
            <li><strong>Best for:</strong> general fitness, consistency, confidence-building</li>
            <li><strong>Expect:</strong> approachable strength work + movement quality</li>
            <li><strong>Vibe:</strong> supportive, calm, no-pressure</li>
          </ul>

          <div class="tags">
            <span>Wellness</span><span>Strength</span><span>Beginner-Friendly</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="instructor-gerri" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="instructor-gerri-title">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__panel" role="document">
      <button class="modal__close" type="button" aria-label="Close" data-close>×</button>

      <div class="modal__content">
        <div class="modal__media">
          <img src="/assets/instructor2-full.jpg" alt="Gerri Russell portrait" loading="lazy">
        </div>
        <div class="modal__text">
          <h3 id="instructor-gerri-title">Gerri Russell</h3>
          <p class="muted">REFIT • Conditioning • Endurance</p>

          <p>
            Gerri brings high-energy conditioning with a fun edge. It’s sweat, momentum, and rhythm — built to improve
            endurance and leave you feeling accomplished (and smiling).
          </p>

          <ul class="bio-bullets">
            <li><strong>Best for:</strong> cardio + conditioning, group motivation</li>
            <li><strong>Expect:</strong> upbeat pace, scalable options, lots of movement</li>
            <li><strong>Tip:</strong> show up early if you want a front spot</li>
          </ul>

          <div class="tags">
            <span>REFIT</span><span>Conditioning</span><span>Endurance</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="instructor-lisa" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="instructor-lisa-title">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__panel" role="document">
      <button class="modal__close" type="button" aria-label="Close" data-close>×</button>

      <div class="modal__content">
        <div class="modal__media">
          <img src="/assets/instructor3-full.jpg" alt="Lisa Wobler portrait" loading="lazy">
        </div>
        <div class="modal__text">
          <h3 id="instructor-lisa-title">Lisa Wobler</h3>
          <p class="muted">Yoga • Flow • Mobility</p>

          <p>
            Lisa’s flow classes blend breath, mobility, and strength-through-range. Expect a grounding pace,
            clear transitions, and a class that helps you walk out taller than you walked in.
          </p>

          <ul class="bio-bullets">
            <li><strong>Best for:</strong> recovery days, flexibility, stress relief</li>
            <li><strong>Expect:</strong> flow + mobility with options for all levels</li>
            <li><strong>Bring:</strong> a mat if you have one (we’ve got backups)</li>
          </ul>

          <div class="tags">
            <span>Yoga</span><span>Flow</span><span>Mobility</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="instructor-meloni" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="instructor-meloni-title">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__panel" role="document">
      <button class="modal__close" type="button" aria-label="Close" data-close>×</button>

      <div class="modal__content">
        <div class="modal__media">
          <img src="/assets/instructor4-full.jpg" alt="Meloni Mullins portrait" loading="lazy">
        </div>
        <div class="modal__text">
          <h3 id="instructor-meloni-title">Meloni Mullins</h3>
          <p class="muted">Silver Sneakers • Strength Circuit • Mobility</p>

          <p>
            Meloni’s classes are structured, upbeat, and practical — strength circuits, mobility, and conditioning that
            help you feel capable in everyday life. You’ll get good coaching and a great pace.
          </p>

          <ul class="bio-bullets">
            <li><strong>Best for:</strong> strength + mobility, building consistency</li>
            <li><strong>Expect:</strong> circuits, safe progressions, coaching that sticks</li>
            <li><strong>Vibe:</strong> encouraging, energetic, welcoming</li>
          </ul>

          <div class="tags">
            <span>Silver Sneakers</span><span>Circuits</span><span>Mobility</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CLASSES -->
  <section id="classes" class="section dark">
    <div class="container">
      <h2>Class Schedule</h2>

      <p class="section-intro">
        Group classes are included with membership. Schedule subject to change.
      </p>

      <img
        src="/assets/class-schedule.png"
        alt="Weekly class schedule"
        class="schedule-image"
      />
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>© <span id="year"></span> Mountain Muscle · Oakhurst, CA</p>
  </footer>

  <!-- Local Business Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Gym",
    "name": "Mountain Muscle",
    "url": "https://mountainmuscle.fitness/",
    "telephone": "+15596417255",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "40118 Enterprise Dr.",
      "addressLocality": "Oakhurst",
      "addressRegion": "CA",
      "postalCode": "93644",
      "addressCountry": "US"
    },
    "sameAs": [
      "https://www.facebook.com/MountainMuscleOakhurst",
      "https://www.instagram.com/mountainmuscleoakhurst"
    ]
  }
  </script>

  <!-- SCRIPTS -->
  <script>
    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Dropdown menu logic
    const menuWrap = document.querySelector(".menu-wrap");
    const menuBtn = document.getElementById("menuButton");
    const menuDropdown = document.getElementById("menuDropdown");

    function closeMenu() {
      if (!menuWrap) return;
      menuWrap.classList.remove("open");
      menuBtn?.setAttribute("aria-expanded", "false");
    }

    if (menuWrap && menuBtn && menuDropdown) {
      menuBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        const isOpen = menuWrap.classList.toggle("open");
        menuBtn.setAttribute("aria-expanded", String(isOpen));
      });

      menuDropdown.querySelectorAll("a").forEach((a) => {
        a.addEventListener("click", closeMenu);
      });

      document.addEventListener("click", closeMenu);

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeMenu();
      });
    }

    // Instructor modals (single-page popups)
    (function () {
      const triggers = document.querySelectorAll("[data-modal]");
      const modals = document.querySelectorAll(".modal");
      let lastFocusEl = null;

      function openModal(modal) {
        if (!modal) return;
        lastFocusEl = document.activeElement;

        modal.classList.add("is-open");
        modal.setAttribute("aria-hidden", "false");
        document.body.classList.add("no-scroll");

        // Focus close button for accessibility
        const closeBtn = modal.querySelector("[data-close]");
        closeBtn && closeBtn.focus();

        // Optional: deep-link without leaving page
        if (modal.id) history.replaceState(null, "", `#${modal.id}`);
      }

      function closeModal(modal) {
        if (!modal) return;

        modal.classList.remove("is-open");
        modal.setAttribute("aria-hidden", "true");
        document.body.classList.remove("no-scroll");

        // Remove hash if it points to this modal
        if (modal.id && location.hash === `#${modal.id}`) {
          history.replaceState(null, "", location.pathname);
        }

        // Restore focus
        if (lastFocusEl && typeof lastFocusEl.focus === "function") {
          lastFocusEl.focus();
          lastFocusEl = null;
        }
      }

      triggers.forEach((btn) => {
        btn.addEventListener("click", () => {
          const id = btn.getAttribute("data-modal");
          openModal(document.getElementById(id));
        });
      });

      modals.forEach((modal) => {
        modal.addEventListener("click", (e) => {
          if (e.target.matches("[data-close]")) closeModal(modal);
        });
      });

      document.addEventListener("keydown", (e) => {
        // ESC closes the currently open modal
        if (e.key === "Escape") {
          const open = document.querySelector(".modal.is-open");
          if (open) closeModal(open);
        }
      });

      // If someone loads a hash like #instructor-meloni, open it
      window.addEventListener("load", () => {
        const id = location.hash.replace("#", "");
        if (!id) return;

        const modal = document.getElementById(id);
        if (modal && modal.classList.contains("modal")) {
          openModal(modal);
        }
      });
    })();

    // Logo splash: plays once, then pixel-perfect flies into the real logo and dissolves
    (function () {
      const splash = document.getElementById("logo-splash");
      const video = document.getElementById("logo-splash-video");
      const targetLogo = document.querySelector(".logo");

      const pickSplashSrc = () => {
        const w = window.innerWidth;
        const h = window.innerHeight;

        // Portrait (phones)
        if (h > w) {
          return "/assets/logo-splash-portrait.mp4";
        }

        // Ultra-wide (optional)
        if (w / h >= 2.1) {
          return "/assets/logo-splash-ultrawide.mp4";
        }

        // Default: landscape / desktop
        return "/assets/logo-splash-landscape.mp4";
      };

      // Swap video source before play
      const src = pickSplashSrc();

      video.pause();
      video.innerHTML = "";

      const source = document.createElement("source");
      source.src = src;
      source.type = "video/mp4";
      video.appendChild(source);

      video.load();

      if (!splash || !video || !targetLogo) return;

      const FAILSAFE_MS = 6000; // MP4 is ~6 seconds
      const TRANSITION_MAX_MS = 750; // match CSS transform transition

      const computeAndFly = () => {
        if (splash.classList.contains("is-fading") || splash.classList.contains("is-hidden")) return;

        const v = video.getBoundingClientRect();
        const t = targetLogo.getBoundingClientRect();

        const vCx = v.left + v.width / 2;
        const vCy = v.top + v.height / 2;
        const tCx = t.left + t.width / 2;
        const tCy = t.top + t.height / 2;

        const dx = tCx - vCx;
        const dy = tCy - vCy;

        // Scale splash down to logo size
        const scale = Math.min(t.width / v.width, t.height / v.height);

        splash.style.setProperty("--fly-x", `${dx}px`);
        splash.style.setProperty("--fly-y", `${dy}px`);
        splash.style.setProperty("--fly-scale", `${scale}`);

        splash.classList.add("is-fading");

        window.setTimeout(() => {
          splash.classList.add("is-hidden");
        }, TRANSITION_MAX_MS + 120);
      };

      video.addEventListener("ended", computeAndFly);
      video.addEventListener("error", () => splash.classList.add("is-hidden"));

      (async () => {
        try {
          await video.play();
        } catch (e) {
          splash.classList.add("is-hidden");
        }
      })();

      window.setTimeout(computeAndFly, FAILSAFE_MS);
    })();
  </script>

</body>
</html>
